<h4><small>Historique des demandes</small></h4>

<div *ngIf="loading" class="text-center my-3">
  Chargement des demandes...
</div>

<div *ngIf="errorMessage" class="alert alert-danger">
  {{ errorMessage }}
</div>

<div *ngIf="!loading && demandes.length > 0" class="table-responsive">
  <table class="table table-striped">
    <thead>
    <tr>
      <th class="text-center">#</th>
      <th></th>
      <th>Employé</th>
      <th>Manager</th>
      <th>Type</th>
      <th>Statut</th>
      <th class="text-right">Début</th>
      <th class="text-right">Fin</th>
      <th class="text-right">Soumission</th>
      <th class="text-right">Traitement</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let demande of demandes; let i = index">
      <td class="text-center">{{ i + 1 }}</td>
      <td class="text-center">
        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox">
            <span class="form-check-sign"><span class="check"></span></span>
          </label>
        </div>
      </td>
      <td>{{ demande.employeNomComplet }}</td>
      <td>{{ demande.managerNomComplet }}</td>
      <td>{{ demande.typeConge }}</td>
      <td>
          <span [class.bg-warning]="demande.statut === 'En_Attante'"
                [class.bg-success]="demande.statut === 'ACCEPTER'"
                [class.bg-danger]="demande.statut === 'REFUSER'">
            {{ demande.statut }}
          </span>
      </td>
      <td class="text-right">{{ demande.dateDebut }}</td>
      <td class="text-right">{{ demande.dateFin }}</td>
      <td class="text-right">{{ demande.dateSoumission }}</td>
      <td class="text-right">{{ demande.dateTraitement || '-' }}</td>
    </tr>
    </tbody>
  </table>
</div>

<div *ngIf="!loading && demandes.length === 0" class="text-center my-3">
  Aucune demande à afficher.
</div>
